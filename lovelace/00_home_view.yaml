title: Home
icon: mdi:information-outline
panel: true
path: home
# background: center / cover no-repeat url("/local/lovelace_ui/tiny_dashboard/clear-background.jpeg") fixed

popup_cards: !include popup-cards/home_view_popup_cards.yaml

cards:
  - type: vertical-stack
    cards:
      - type: custom:layout-card
        layout: vertical
        cards:
          - type: horizontal-stack
            cards:
              - type: picture-entity
                entity: person.dennis
                image: !secret dennis_square
                show_name: false
                tap_action:
                  action: more-info
              - type: picture-entity
                entity: person.stephanie
                image: !secret stephanie_square
                show_name: false
                tap_action:
                  action: more-info
              - type: picture-entity
                entity: person.lucas
                image: !secret lucas_square
                show_name: false
                tap_action:
                  action: more-info
              - type: picture-entity
                entity: person.timo
                image: !secret timo_square
                show_name: false
                tap_action:
                  action: more-info
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: alarm_control_panel.konnected_alarm
                show_state: false
                show_icon: true
                show_name: false
                state:
                  - value: 'armed_away'
                    icon: mdi:shield-lock
                    color: rgb(152,251,152)
                  - value: 'armed_home'
                    icon: mdi:shield-home
                    color: rgb(251, 210, 41)
                  - value: 'triggered'
                    icon: mdi:shield-alert
                    color: rgb(255, 0, 0)
                    styles:
                      icon:
                        - animation: blink 2s ease infinite
                  - value: 'disarmed'
                    icon: mdi:shield-off
                    color: rgb(169,169,169)
                  - value: 'pending'
                    icon: mdi:shield-half-full
                    color: rgb(169,169,169)
                    styles:
                      icon:
                        - animation: blink 2s ease infinite
                tap_action:
                  action: more-info
              - type: custom:button-card
                show_state: false
                show_icon: true
                show_name: false
                entity: sensor.sirens
                state:
                  - value: 'silent'
                    color: rgb(169,169,169)
                    icon: mdi:alarm-bell
                  - value: 'signaling'
                    color: rgb(255, 0, 0)
                    icon: mdi:alarm-bell
                tap_action:
                  action: more-info
              - type: custom:button-card
                show_state: false
                show_icon: true
                show_name: false
                entity: sensor.house_movement
                state:
                  - value: 'No movement'
                    icon: mdi:walk
                    color: rgb(169,169,169)
                  - value: 'Movement detected'
                    icon: mdi:motion-sensor
                    color: rgb(251, 210, 41)
                tap_action:
                  action: more-info
              - type: custom:button-card
                show_state: false
                show_icon: true
                show_name: false
                entity: sensor.outdoor_movement
                state:
                  - value: 'No movement'
                    icon: mdi:walk
                    color: rgb(169,169,169)
                  - value: 'Movement detected'
                    icon: mdi:motion-sensor
                    color: rgb(251, 210, 41)
                tap_action:
                  action: more-info
              - type: custom:button-card
                show_state: false
                show_icon: true
                show_name: false
                icon: mdi:cctv
                color: rgb(169,169,169)
                tap_action:
                  action: navigate
                  navigation_path: /lovelace/cameras
        
          - type: horizontal-stack # row3
            cards:
              - type: custom:button-card
                entity: input_boolean.guest_mode
                show_state: false
                show_icon: true
                show_name: false
                state:
                  - value: 'on'
                    icon: mdi:account-group-outline
                    color: rgb(152,251,152)
                  - value: 'off'
                    icon: mdi:account-group-outline
                    color: rgb(169,169,169)
                tap_action:
                  action: more-info
              - type: custom:button-card
                entity: cover.roller_shutters
                show_state: false
                show_icon: true
                show_name: false
                state:
                  - value: 'open'
                    icon: mdi:window-shutter-open
                    color: rgb(135,206,235)
                  - value: 'closed'
                    icon: mdi:window-shutter
                    color: rgb(169,169,169)
                tap_action:
                  action: navigate
                  navigation_path: /lovelace/covers
              - type: custom:button-card
                entity: light.inside_lights
                show_state: false
                show_icon: true
                show_name: false
                icon: bha:ceiling-lamp
                tap_action:
                  action: navigate
                  navigation_path: /lovelace/lights
              - type: custom:button-card
                show_state: false
                show_icon: true
                show_name: false
                entity: light.outdoor_lights
                icon: bha:outdoor-lamp
                tap_action:
                  action: more-info
              - type: custom:button-card
                entity: input_select.house_mode
                show_state: false
                show_icon: true
                show_name: false
                state:
                  - value: 'Morning'
                    icon: mdi:weather-sunset-up
                    color: rgb(169,169,169)
                  - value: 'Day'
                    icon: mdi:weather-sunny
                    color: rgb(169,169,169)
                  - value: 'Evening'
                    icon: mdi:weather-sunset-down
                    color: rgb(169,169,169)
                  - value: 'Night'
                    icon: mdi:weather-night
                    color: rgb(169,169,169)
                tap_action:
                  action: more-info

          - type: horizontal-stack # row 4
            cards:
              - type: custom:button-card
                entity: climate.living_room
                show_state: false
                show_icon: true
                show_name: false
                state:
                  - value: 'cool'
                    icon: mdi:air-conditioner
                    color: rgb(135,206,235)
                  - value: 'heat'
                    icon: mdi:air-conditioner
                    color: rgb(255,69,0)
                  - value: 'heat_cool'
                    icon: mdi:air-conditioner
                    color: rgb(152,251,152)
                tap_action:
                  action: more-info
              - type: custom:button-card
                show_state: false
                show_icon: true
                show_name: false
                color: rgb(169,169,169)
                entity: weather.lopik_cabauw
                icon: mdi:weather-cloudy
                tap_action:
                  action: more-info
              - type: custom:button-card
                entity: sensor.pollenniva_stockholm_bjork_day_0
                icon: mdi:flower
                show_state: false
                show_icon: true
                show_name: false
                state:
                  - operator: template
                    value: >
                      return states['sensor.pollenniva_stockholm_bjork_day_0'].state > 0 || states['sensor.pollenniva_stockholm_gras_day_0'].state > 0 || states['sensor.pollenniva_stockholm_grabo_day_0'].state > 0
                    color: rgb(251, 210, 41)
                  - operator: default
                    color: rgb(169,169,169)
                tap_action:
                  action: more-info
              - type: custom:button-card
                entity: media_player.living_room_fire_tv_stick
                show_state: false
                show_icon: true
                show_name: false
                state:
                  - value: 'standby'
                    icon: mdi:movie
                    color: rgb(169,169,169)
                  - value: 'idle'
                    icon: mdi:movie
                    color: rgb(169,169,169)
                  - value: 'paused'
                    icon: mdi:movie
                    color: rgb(152,251,152)
                  - value: 'off'
                    icon: mdi:movie
                    color: rgb(169,169,169)
                  - value: 'playing'
                    icon: mdi:movie
                    color: rgb(152,251,152)
                tap_action:
                  action: more-info
              - type: custom:button-card
                entity: media_player.master_bedroom_fire_tv_stick
                show_state: false
                show_icon: true
                show_name: false
                state:
                  - value: 'standby'
                    icon: mdi:movie
                    color: rgb(169,169,169)
                  - value: 'idle'
                    icon: mdi:movie
                    color: rgb(169,169,169)
                  - value: 'paused'
                    icon: mdi:movie
                    color: rgb(152,251,152)
                  - value: 'off'
                    icon: mdi:movie
                    color: rgb(169,169,169)
                  - value: 'playing'
                    icon: mdi:movie
                    color: rgb(152,251,152)
                tap_action:
                  action: more-info
            
          - break
          - type: vertical-stack
            cards:
              - type: custom:vertical-stack-in-card
                cards:
                - type: entity-filter
                  show_empty: false
                  entities:
                    - entity: sensor.entryway_nest_protect_co_status
                    - entity: sensor.entryway_nest_protect_smoke_status
                    - entity: sensor.hallway_nest_protect_co_status
                    - entity: sensor.hallway_nest_protect_smoke_status
                    - entity: sensor.attic_nest_protect_co_status
                    - entity: sensor.attic_nest_protect_smoke_status
                    - entity: binary_sensor.entryway
                    - entity: binary_sensor.kitchen
                    - entity: binary_sensor.living_room
                    - entity: binary_sensor.office
                    - entity: binary_sensor.garage
                  state_filter:
                    - "on"
                    - Warning
                    - Emergency
                    - Unknown
                  card: 
                    type: glance
                    show_state: false
                - type: custom:home-feed-card
                  title: Home Feed
                  entities:
                    - alarm_control_panel.konnected_alarm
                    - cover.master_bedroom_roller_shutter_level
                    - cover.lucas_room_roller_shutter_level
                    - entity: sensor.house_movement
                      name: Indoor Movement
                      secondary_info: last-changed
                    - entity: sensor.outdoor_movement
                      name: Outdoor Movement
                      secondary_info: last-changed
          - break
          - type: vertical-stack
            cards:
          #     - type: custom:grocy-chores-card
          #       title: All chores
          #       show_quantity: 7
          #       show_days: 7
          #       entity: sensor.grocy
              - entity: camera.meteogram
                type: picture-entity

        style: |
          .column {
            margin: 25px;
          }