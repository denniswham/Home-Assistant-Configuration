title: Graphs
icon: mdi:chart-line
path: graphs

cards:  
  - type: vertical-stack
    cards:
      - type: entities
        title: Raspberry Pi
        show_header_toggle: false
        entities:
          - entity: sensor.last_boot
            name: Last boot
          - entity: sensor.snapshot_backup
            name: Snapshot status
            icon: mdi:cloud-upload-outline
            format: datetime
          - entity: binary_sensor.snapshots_stale
            name: Snapshots Stale
            icon: mdi:cloud-upload-outline
      - type: horizontal-stack
        cards:
          - type: gauge
            name: CPU Use
            entities:
              - sensor.processor_use
          - type: gauge
            name: CPU Temp
            entities:
              - sensor.cpu_temperature
            font_size: 50
            line_color: "#389638"
      - type: horizontal-stack
        cards:
          - type: gauge
            name: RAM Free
            entities:
              - sensor.memory_free
          - type: gauge
            name: RAM Use
            entities:
              - sensor.memory_use_percent
  - type: vertical-stack
    cards:
      - type: entities
        title: Network
        show_header_toggle: false
        entities:
          - entity: sensor.speedtest_ping
            name: Ping
          - entity: sensor.speedtest_download
            name: Download
          - entity: sensor.speedtest_upload
            name: Upload

      - type: horizontal-stack
        cards:
          - type: history-graph
            show:
              icon: false
            name: DNS Queries
            entities:
              - sensor.adguard_dns_queries
            font_size: 50
            line_color: "#389638"
          - type: history-graph
            show:
              icon: false
            name: Blocked by Filters
            entities:
              - sensor.adguard_dns_queries_blocked_ratio
            font_size: 50
            line_color: "#389638"
      - type: horizontal-stack
        cards:
          - type: history-graph
            show:
              icon: false
            name: 'Blocked malware/phishing'
            entities:
              - sensor.adguard_safe_browsing_blocked
            font_size: 50
            line_color: "#389638"
          - type: history-graph
            show:
              icon: false
            name: Blocked adult websites
            entities:
              - sensor.adguard_parental_control_blocked
            font_size: 50
            line_color: "#389638"

      - type: entities
        title: General statistics
        show_header_toggle: false
        entities:
          - entity: sensor.adguard_dns_queries
            name: DNS Queries
          - entity: sensor.adguard_dns_queries_blocked_ratio
            name: Blocked by Filter
          - entity: sensor.adguard_safe_browsing_blocked
            name: Blocked malware/phishing
          - entity: sensor.adguard_parental_control_blocked
            name: Blocked adult websites
          - entity: sensor.adguard_safe_searches_enforced
            name: Enforced safe search
          - entity: sensor.adguard_average_processing_speed
            name: Average processing time
    

  - type: vertical-stack
    cards:
      - type: custom:auto-entities
        card:
          type: entities
          title: Power consumption
          show_header_toggle: false
        filter:
          include:
            - entity_id: sensor.daily_energy_consumption
            - entity_id: sensor.monthly_energy_consumption
            - entity_id: "*_power"
            - entity_id: "*_power_0"
          exclude:
            - entity_id: "*_2"
            - entity_id: "*_management"
            - entity_id: "*.solaredge_*"
            - entity_id: "switch.hood_power"
        sort:
          method: state
          numeric: 'true'
          reverse: 'true'

      - type: custom:auto-entities
        card:
          type: entities
          title: Device Temperature
          show_header_toggle: false
        filter:
          include:
            - entity_id: "sensor.*_temperature"
          exclude:
            - entity_id: sensor.br_temperature
            - entity_id: sensor.living_room_temperature
            - entity_id: "*.shelly_door_window_2_*"
            - entity_id: "*.shelly_flood_*"
        sort: 
          method: state
          numeric: 'true'
          reverse: 'true'