title: Graphs
icon: mdi:chart-line
path: graphs

cards:  
  - type: vertical-stack
    cards:
      - type: entities
        title: Raspberry Pi
        show_header_toggle: false
        entities:
          - entity: sensor.last_boot
            name: Last boot
          - entity: sensor.snapshot_backup
            name: Snapshot status
            icon: mdi:cloud-upload-outline
            format: datetime
          - entity: binary_sensor.snapshots_stale
            name: Snapshots Stale
            icon: mdi:cloud-upload-outline
      - type: horizontal-stack
        cards:
          - type: custom:mini-graph-card
            show:
              icon: false
              graph: "bar"
            name: CPU Use
            entities:
              - sensor.processor_use
            line_color: "#389638"
            color_thresholds:
              - value: 50
                color: green
              - value: 70
                color: orange
              - value: 80
                color: red
          - type: custom:mini-graph-card
            show:
              icon: false
            name: CPU Temp
            entities:
              - sensor.cpu_temperature
            font_size: 50
            line_color: "#389638"
      - type: horizontal-stack
        cards:
          - type: custom:mini-graph-card
            show:
              icon: false
              graph: "bar"
            name: RAM Free
            entities:
              - sensor.memory_free
            line_color: "#389638"
            color_thresholds:
              - value: 50
                color: green
              - value: 70
                color: orange
              - value: 80
                color: red
          - type: custom:mini-graph-card
            show:
              icon: false
            name: RAM Use
            entities:
              - sensor.memory_use_percent
            font_size: 50
            line_color: "#389638"
  - type: vertical-stack
    cards:
      - type: entities
        title: Network
        show_header_toggle: false
        entities:
          - entity: sensor.speedtest_ping
            name: Ping
          - entity: sensor.speedtest_download
            name: Download
          - entity: sensor.speedtest_upload
            name: Upload

      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:mini-graph-card
                show:
                  icon: false
                name: DNS Queries
                entities:
                  - sensor.adguard_dns_queries
                font_size: 50
                line_color: "#389638"
              - type: custom:mini-graph-card
                show:
                  icon: false
                name: Blocked by Filters
                entities:
                  - sensor.adguard_dns_queries_blocked_ratio
                font_size: 50
                line_color: "#389638"
          - type: horizontal-stack
            cards:
              - type: custom:mini-graph-card
                show:
                  icon: false
                name: 'Blocked malware/phishing'
                entities:
                  - sensor.adguard_safe_browsing_blocked
                font_size: 50
                line_color: "#389638"
              - type: custom:mini-graph-card
                show:
                  icon: false
                name: Blocked adult websites
                entities:
                  - sensor.adguard_parental_control_blocked
                font_size: 50
                line_color: "#389638"

  - type: vertical-stack
    cards:
      - type: custom:auto-entities
        card:
          type: entities
          title: Power consumption
          show_header_toggle: false
        filter:
          include:
            - entity_id: sensor.daily_energy_consumption
            - entity_id: sensor.monthly_energy_consumption
            - entity_id: "*_power"
            - entity_id: "*_power_0"
          exclude:
            - entity_id: "*_2"
            - entity_id: "*_management"
        sort: name

      - type: custom:auto-entities
        card:
          type: entities
          title: Temperature
          show_header_toggle: false
        filter:
          include:
            - entity_id: "*_temperature"
          # exclude:
          #   - entity_id: "*_2"
          #   - entity_id: "*_management"
        sort: name        