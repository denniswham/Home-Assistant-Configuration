climate:
  platform: nest
  
script:
  heat_up:
    alias: '[Climate] Increase temperature with 1 degree'
    sequence:
    - service: climate.set_temperature
      data_template:
        entity_id: climate.living_room
        temperature: "{{ state_attr('climate.living_room' , 'current_temperature') | float | round(1) + 1 }}"

  cool_down:
    alias: '[Climate] Decrease temperature with 1 degree'
    sequence:
    - service: climate.set_temperature
      data_template:
        entity_id: climate.living_room
        temperature: "{{ state_attr('climate.living_room' , 'current_temperature') | float | round(1) - 1 }}"

  tell_current_living_room_temperature:
    alias: '[Climate] Tell current living room temperature'
    sequence:
      - service: notify.alexa_media
        data_template:
          data:
            type: tts
          target: >-
            {# Use the name of each Echo to determine which room the command likely came from. #}
            {%- set room = states("sensor.last_alexa")|replace('media_player.','') -%}

            {%- if room == "living_room" -%}
              media_player.living_room
            {%- elif room == "living_room_fire_tv_stick" -%}
              media_player.living_room_fire_tv_stick
            {%- elif room == "master_bedroom" -%}
              media_player.master_bedroom
            {%- elif room == "master_bedroom_fire_tv_stick" -%}
              media_player.master_bedroom_fire_tv_stick
            {%- elif room == "lucas_room" -%}
              media_player.lucas_room
            {%- elif room == "timo_s_room" -%}
              media_player.timo_s_room
            {%- elif room == "emilie_s_room" -%}
              media_player.emilie_s_room
            {%- endif -%}
          message: "The current living room temperature is {{ state_attr('climate.living_room' , 'current_temperature') }} degrees celsius"

